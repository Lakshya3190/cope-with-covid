import React from 'react';
import './vulnerabilityAnalysis.css';
class vulnerabilityAnalysis extends React.Component {
    
    constructor(props){
        super(props);
        this.state = {
            ques1: '',
            ques2: '',
            ques3: '',
            ques4: '',
            ques5: '',
            showResult: ''
        }
    }

    ques1Change = (event) => {
        this.setState({ques1:event.target.value})
    }

    ques2Change = (event) => {
        this.setState({ques2:event.target.value})
    }

    ques3Change = (event) => {
        this.setState({ques3:event.target.value})
    }

    ques4Change = (event) => {
        this.setState({ques4:event.target.value})
    }

    ques5Change = (event) => {
        this.setState({ques5:event.target.value})
    }

    onSubmit = (showResult) => {
        this.setState({showResult: showResult})
    }

    onSubmitAnswers = () => {
        fetch('http://localhost:3005/vulnerabilityAnalysis', {
            method: 'post',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify({
                ques1: this.state.ques1,
                ques2: this.state.ques2,
                ques3: this.state.ques3,
                ques4: this.state.ques4,
                ques5: this.state.ques5
            })
        })

        .then(response => response.json())
        
    }

    


    render(){
        return(
        <div>
            <p className = 'f1'>Covid-19 Vulnerability Analysis</p>
            
           
            <div className = 'question pa3 br3'>
                                <span className = 'pa4'>Have you travelled in the past month?</span> 
                                    <select onChange = {this.ques1Change} id="ques1" name="ques1">
                                        <option value="3">No</option>
                                        <option value="2">Domestic</option>
                                        <option value="1">International</option>
                                    </select>
            </div>
         

         
            <div className = 'question pa3 br3'>
                                <span className = 'pa4'>Do the people you live with have a travel history? </span> 
                                    <select onChange = {this.ques2Change} id="ques2" name="ques2">
                                        <option value="3">No</option>
                                        <option value="2">Domestic</option>
                                        <option value="1">International</option>
                                    </select>
            </div>
            

            <div className = 'question pa3 br3'>
                                <span className = 'pa4'>What is your age?</span> 
                                    <select onChange = {this.ques3Change} id="ques3" name="ques3">
                                        <option value="4">0-30 years</option>
                                        <option value="3">30-45 years</option>
                                        <option value="2">45-60 years</option>
                                        <option value="1">More than 65 years</option>
                                    </select>
            </div>
            

            
            <div className = 'question pa3 br3'>
                                <span className = 'pa4'>Do you have a respiratory disease?</span> 
                                    <select onChange = {this.ques4Change} id="ques4" name="ques4">
                                        <option value="3">Yes, severe</option>
                                        <option value="2">Yes, mild</option>
                                        <option value="1">No</option>
                                    </select>
            </div>
            

            
            <div className = 'question pa3 br3'>
                                <span className = 'pa4'>Do you need to leave your house for sustainance during the lockdown?</span> 
                                    <select onChange = {this.ques5Change} id="ques5" name="ques5">
                                        <option value="3">Yes, daily</option>
                                        <option value="2">Yes, weekly</option>
                                        <option value="1">No</option>
                                    </select>
            </div>
            
            <div className="">
                <input onClick = {this.onSubmitAnswers('yes')} className="b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib form" type="submit" value="Submit"/>
            </div>

        </div>
    );
}
    
}

export default vulnerabilityAnalysis;